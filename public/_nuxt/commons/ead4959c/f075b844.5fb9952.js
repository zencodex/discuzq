(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{518:function(e,t,n){n(32);var r=n(501);n(51),e.exports={data:function(){var e=this;return{errorCodeHandler:{default:{model_not_found:function(){return e.$router.replace("/error")},not_authenticated:function(){return e.$router.push("/user/login")}},thread:{permission_denied:function(){return e.$router.replace("/error")}}}}},methods:{handleError:function(e){var t=arguments,n=this;return r(regeneratorRuntime.mark((function r(){var o,l,d,c,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=t.length>1&&void 0!==t[1]?t[1]:"",l=e.response.data.errors,!(Array.isArray(l)&&l.length>0)){r.next=13;break}if(d=l[0].code,c=l[0].detail&&l[0].detail.length>0?l[0].detail[0]:l[0].code,h=l[0].detail&&l[0].detail.length>0?l[0].detail[0]:n.$t("core.".concat(c)),"site_closed"!==l[0].code){r.next=10;break}return r.next=9,n.siteClose(l);case 9:return r.abrupt("return",r.sent);case 10:n.$message.error(h),n.errorCodeHandler.default[d]&&n.errorCodeHandler.default[d](),o&&n.errorCodeHandler[o][d]&&n.errorCodeHandler[o][d]();case 13:case"end":return r.stop()}}),r)})))()},siteClose:function(e){var t=this;return r(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("forum/setError",{code:e[0].code,detail:e[0].detail&&e[0].detail.length>0&&e[0].detail[0]});case 3:return n.next=5,t.$router.push("/site/close");case 5:n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}}},558:function(e,t,n){"use strict";n.r(t);n(251);var r={name:"ListLoadMore",mixins:[{data:function(){return{scrollTop:0}},mounted:function(){this.addEventListener(window,"scroll",this.handleScroll)},destroyed:function(){this.removeEventListener(window,"scroll",this.handleScroll)},methods:{handleScroll:function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;Math.ceil(e+t+10)>=n&&this.scrollLoadMore(),this.scrollTop=e},addEventListener:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent&&e.detachEvent("on"+t,n)}}}],props:{loading:{type:Boolean,default:!1},hasMore:{type:Boolean,default:!1},pageNum:{type:[Number,String],default:1},length:{type:[Number,String],default:0},surplus:{type:[Number,String],default:0},loadMoreText:{type:String,default:function(){return this.$t("topic.showMore")}}},methods:{scrollLoadMore:function(){(this.pageNum-1)%5>0&&!this.loading&&this.hasMore&&this.loadMore()},loadMore:function(){this.$emit("loadMore")}}},o=n(13),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"load-more-container"},[e.loading?n("loading"):[e.hasMore&&(e.pageNum-1)%5==0?n("div",{staticClass:"load-more",on:{click:e.loadMore}},[e._v("\n      "+e._s(e.surplus>0?e.$t("notice.checkMore",{surplus:e.surplus}):e.loadMoreText)+"\n    ")]):e.hasMore&&(e.pageNum-1)%5>0?n("loading"):n("div",{staticClass:"no-more"},[0===e.length?n("svg-icon",{staticClass:"empty-icon",attrs:{type:"empty"}}):e._e(),e._v("\n      "+e._s(e.length>0?e.$t("discuzq.list.noMoreData"):e.$t("discuzq.list.noData"))+"\n    ")],1)]],2)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loading:n(628).default,SvgIcon:n(67).default})},573:function(e,t,n){},628:function(e,t,n){"use strict";n.r(t);n(251);var r={name:"Loading",props:{loading:{type:Boolean,default:!1},fontSize:{type:Number,default:32}}},o=(n(629),n(13)),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"loading-container"},[this._v("\n  "+this._s(this.$t("discuzq.list.loading"))+"...\n")])}),[],!1,null,"10c555d3",null);t.default=component.exports},629:function(e,t,n){"use strict";var r=n(573);n.n(r).a}}]);